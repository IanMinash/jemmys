{% extends "base_mgrs.html" %}

{% block title_block %}
   Customers | Jemmy's Collection
{% endblock title_block %}

{% block body_block %}
<div style="margin:0 5%;">
    <div class="flex" style="justify-content:left;">
        <a href="{% url 'managers:dashboard' %}" class="flex" style="align-items:center;">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                y="0px" viewBox="0 0 477.175 477.175" style="height: 1.25rem;" xml:space="preserve">
                <g>
                    <path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225
                                c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z" />
                </g>
            </svg>
            Dashboard
        </a> 
    </div>
    <div style="overflow:auto;">
        <table id="customers" style="width:100%; border-spacing: 0.75em;">
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Orders</th>
            </tr>
            {% for customer in customers %}
              <tr style="padding-bottom:0.5em;">
                  <td>
                    <a href="{% url 'managers:customer' customer.id %}">{{ customer.name }}</a>
                  </td>
                  <td>
                    <a href="mailto:{{ customer.email }}">{{ customer.email }}</a>
                  </td>
                  <td>
                    <a href="tel:{{ customer.phone }}">{{ customer.phone }}</a>
                  </td>
                  <td class="bold">{{ customer.orders.all|length }}</td>
              </tr>
            {% endfor %}
          </table> 
    </div>
</div>
{% endblock body_block %}